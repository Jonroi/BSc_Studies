<html>
  <head>
    <title>Content Negotiation</title>
  </head>
  <body>
    <button id="button">Fetch All Formats</button>
    <pre id="output"></pre>

    <script>
      document.querySelector('#button').addEventListener('click', runCode);

      function runCode() {
        const output = document.querySelector('#output');
        output.textContent = '';

        fetch('https://eloquentjavascript.net/author', {
          headers: { Accept: 'text/plain' },
        }).then((response) => {
          console.log(response.status);
          console.log(response.headers.get('Content-Type'));
          output.textContent += 'text/plain: ' + response.status + '\n';
        });

        fetch('https://eloquentjavascript.net/author', {
          headers: { Accept: 'text/html' },
        }).then((response) => {
          console.log(response.status);
          console.log(response.headers.get('Content-Type'));
          output.textContent += 'text/html: ' + response.status + '\n';
        });

        fetch('https://eloquentjavascript.net/author', {
          headers: { Accept: 'application/json' },
        }).then((response) => {
          console.log(response.status);
          console.log(response.headers.get('Content-Type'));
          output.textContent += 'application/json: ' + response.status + '\n';
        });

        fetch('https://eloquentjavascript.net/author', {
          headers: { Accept: 'application/rainbows+unicorns' },
        }).then((response) => {
          console.log(response.status);
          console.log(response.headers.get('Content-Type'));
          output.textContent +=
            'application/rainbows+unicorns: ' + response.status + '\n';
        });
      }
    </script>
  </body>
</html>
